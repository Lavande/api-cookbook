---
title: Perplexity Discord Bot
description: A simple discord.py bot that integrates Perplexity's Sonar API to bring AI answers to your Discord server.
sidebar_position: 4
keywords: [discord, bot, discord.py, python, chatbot, perplexity, sonar api, command, slash command]
---

A simple `discord.py` bot that integrates [Perplexity's Sonar API](https://docs.perplexity.ai/) into your Discord server. Ask questions and get AI-powered answers with web access through slash commands or by mentioning the bot.

![Discord Bot Demo](../../static/img/discord-py-bot-demo.png)

## ‚ú® Features

- **üåê Web-Connected AI**: Uses Perplexity's Sonar API for up-to-date information
- **‚ö° Slash Command**: Simple `/ask` command for questions  
- **üí¨ Mention Support**: Ask questions by mentioning the bot
- **üîó Source Citations**: Automatically formats and links to sources
- **üîí Secure Setup**: Environment-based configuration for API keys

## üõ†Ô∏è Prerequisites

<Steps>
  <Step title="Python Environment">
    **Python 3.8+** installed on your system
    
    ```bash
    python --version  # Should be 3.8 or higher
    ```
  </Step>
  
  <Step title="Perplexity API Access">
    **Active Perplexity API Key** from [Perplexity AI Settings](https://www.perplexity.ai/settings/api)
    
    <Note>You'll need a paid Perplexity account to access the API. See the [pricing page](https://www.perplexity.ai/pricing) for current rates.</Note>
  </Step>
  
  <Step title="Discord Bot Application">
    **Discord Bot Token** from the [Discord Developer Portal](https://discord.com/developers/applications)
  </Step>
</Steps>

## üöÄ Quick Start

### 1. Repository Setup

Clone the repository and navigate to the bot directory:

```bash
git clone https://github.com/perplexity-ai/api-cookbook.git
cd api-cookbook/docs/examples/discord-py-bot/
```

### 2. Install Dependencies

```bash
# Create a virtual environment (recommended)
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install required packages
pip install -r requirements.txt
```

### 3. Configure API Keys

<Steps>
  <Step title="Get Your Perplexity API Key">
    1. Visit [Perplexity AI Account Settings](https://www.perplexity.ai/settings/api)
    2. Generate a new API key
    3. Copy the key to the .env file
    
    <Warning>Keep your API key secure! Never commit it to version control or share it publicly.</Warning>
  </Step>
  
  <Step title="Create Discord Bot Application">
    1. Go to the [Discord Developer Portal](https://discord.com/developers/applications)
    2. Click **"New Application"** and give it a descriptive name
    3. Navigate to the **"Bot"** section
    4. Click **"Reset Token"** (or "Add Bot" if first time)
    5. Copy the bot token
  </Step>
  
  <Step title="Configure Environment Variables">
    Copy the example environment file and add your keys:
    
    ```bash
    cp env.example .env
    ```
    
    Edit `.env` with your credentials:
    
    ```bash title=".env"
    DISCORD_TOKEN="your_discord_bot_token_here"
    PERPLEXITY_API_KEY="your_perplexity_api_key_here"
    ```
  </Step>
</Steps>

## üéØ Usage Guide

### Bot Invitation & Setup

<Steps>
  <Step title="Generate Invite URL">
    In the Discord Developer Portal:
    1. Go to **OAuth2** ‚Üí **URL Generator**
    2. Select scopes: `bot` and `applications.commands`
    3. Select bot permissions: `Send Messages`, `Use Slash Commands`
    4. Copy the generated URL
  </Step>
  
  <Step title="Invite to Server">
    1. Paste the URL in your browser
    2. Select the Discord server to add the bot to
    3. Confirm the permissions
  </Step>
  
  <Step title="Start the Bot">
    ```bash
    python bot.py
    ```
    
    You should see output confirming the bot is online and commands are synced.
  </Step>
</Steps>

### How to Use

**Slash Command:**
```
/ask [your question here]
```

![Slash Command Demo](../../static/img/discord-py-bot-slash-command.png)

**Mention the Bot:**
```
@YourBot [your question here]
```

![Mention Command Demo](../../static/img/discord-py-bot-mention-command.png)

## üìä Response Format

The bot provides clean, readable responses with:
- **AI Answer**: Direct response from Perplexity's Sonar API
- **Source Citations**: Clickable links to sources (when available)
- **Automatic Truncation**: Responses are trimmed to fit Discord's limits

## üîß Technical Details

This bot uses:
- **Model**: Perplexity's `sonar-pro` model
- **Response Limit**: 2000 tokens from API, truncated to fit Discord
- **Temperature**: 0.2 for consistent, factual responses
- **No Permissions**: Anyone in the server can use the bot